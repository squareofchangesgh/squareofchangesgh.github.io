import{a as m}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-MBWT6D3G.js";import{d as I}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-TZYDFHR2.js";var M=I(m(),1),u=I(m(),1);var y=new Map,b=new WeakMap,S=0,O=void 0;function E(e){return e?(b.has(e)||(S+=1,b.set(e,S.toString())),b.get(e)):"0"}function A(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?E(e.root):e[t]}`).toString()}function k(e){let t=A(e),r=y.get(t);if(!r){let a=new Map,h,n=new IntersectionObserver(s=>{s.forEach(i=>{var o;let f=i.isIntersecting&&h.some(d=>i.intersectionRatio>=d);e.trackVisibility&&typeof i.isVisible>"u"&&(i.isVisible=f),(o=a.get(i.target))==null||o.forEach(d=>{d(f,i)})})},e);h=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:n,elements:a},y.set(t,r)}return r}function x(e,t,r={},a=O){if(typeof window.IntersectionObserver>"u"&&a!==void 0){let o=e.getBoundingClientRect();return t(a,{isIntersecting:a,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}let{id:h,observer:n,elements:s}=k(r),i=s.get(e)||[];return s.has(e)||s.set(e,i),i.push(t),n.observe(e),function(){i.splice(i.indexOf(t),1),i.length===0&&(s.delete(e),n.unobserve(e)),s.size===0&&(n.disconnect(),y.delete(h))}}function T({threshold:e,delay:t,trackVisibility:r,rootMargin:a,root:h,triggerOnce:n,skip:s,initialInView:i,fallbackInView:o,onChange:f}={}){var d;let[p,N]=u.useState(null),v=u.useRef(),[g,V]=u.useState({inView:!!i,entry:void 0});v.current=f,u.useEffect(()=>{if(s||!p)return;let l;return l=x(p,(_,w)=>{V({inView:_,entry:w}),v.current&&v.current(_,w),w.isIntersecting&&n&&l&&(l(),l=void 0)},{root:h,rootMargin:a,threshold:e,trackVisibility:r,delay:t},o),()=>{l&&l()}},[Array.isArray(e)?e.toString():e,p,h,a,n,s,r,o,t]);let R=(d=g.entry)==null?void 0:d.target,C=u.useRef();!p&&R&&!n&&!s&&C.current!==R&&(C.current=R,V({inView:!!i,entry:void 0}));let c=[N,g.inView,g.entry];return c.ref=c[0],c.inView=c[1],c.entry=c[2],c}export{T as a};
