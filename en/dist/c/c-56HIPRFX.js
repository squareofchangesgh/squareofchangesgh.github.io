import{a as c,b as y}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-JWQSDUFI.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-PR2DJXFR.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-GJYOXBH4.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-KGGRYMSL.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-TZYDFHR2.js";y();var s=t=>t*Math.PI/180,p=({widget:t,e:a})=>{if(t.isDragging){a.state.isTouchEvent&&a.originalEvent.preventDefault(),document.body.style.pointerEvents!=="none"&&(document.body.style.pointerEvents="none");let n=(c.isCSSZoom()||c.isCSSTransform())&&t.currentScale||1,l=t.is_above?a.state.cursorPosition.x:a.state.cursorPagePosition.x,i=t.is_above?a.state.cursorPosition.y:a.state.cursorPagePosition.y,r=0,e=0,o=(t.angle||0)+(t.animationAngle||0);if(o){let u=l*Math.cos(s(o))+i*Math.sin(s(o)),m=-1*l*Math.sin(s(o))+i*Math.cos(s(o)),f=(t.mouseStart?.x||0)*Math.cos(s(o))+(t.mouseStart?.y||0)*Math.sin(s(o)),S=-1*(t.mouseStart?.x||0)*Math.sin(s(o))+(t.mouseStart?.y||0)*Math.cos(s(o));r=(u-f)/n/(t.animationScale?.x||1),e=(m-S)/n/(t.animationScale?.y||1)}else r=(l-(t.mouseStart?.x||0))/n/(t.animationScale?.x||1),e=(i-(t.mouseStart?.y||0))/n/(t.animationScale?.y||1);t.flip_h&&(r*=-1),t.flip_v&&(e*=-1),t.$el[0]&&t.startPosition&&(t.$el[0].style.transform=t.$el[0].style.transform.replace(/translate\(.+?\)/,`translate(${(t.startPosition.x||0)+r}px, ${(t.startPosition.y||0)+e}px)`))}},v=p;export{v as default};
