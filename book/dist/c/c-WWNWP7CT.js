import{a as t}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-2TSYQWVN.js";import{a as s,b as o}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-SU37PPZX.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-OKZSTQSX.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-L26XEBE2.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-YIBTG3FD.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-42SFA7ZB.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-26F6U5D6.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-H5C74J7F.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-5JUHDQEW.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-TQMFKW4O.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-5SLUZRMW.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-K45ZXRYF.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-2RBJCKMX.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-4NSILI54.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-PEYC24KP.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-XJQ7OF5W.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-22ZYTENX.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-I6RXPP7W.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-TW324QB3.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-DQDVK4WP.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-MXQB3LDA.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-7JDZLQQ4.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-JWQSDUFI.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-SUQN7X7E.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-WVUZA6DL.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-42TSFLLH.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-TBONR54I.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-JTEJSVZP.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-OEU46UX3.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-5R57BBFA.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-G4GX3XOZ.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-Y3K5ZMDI.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-HKXDGYOU.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-Y4QUC5YI.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-US7HSDUX.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-AG4TV67I.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-VRG4AYQX.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-VNZOBZZU.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-MBWT6D3G.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-BHZEZWL4.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-VUD7OPNE.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-M4TEEAX7.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-SXBIDYQQ.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-PR2DJXFR.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-GJYOXBH4.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-3SFTLRL3.js";import{b as d}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-W2OJRSJR.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-CDLDI33S.js";import"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-KGGRYMSL.js";import{d as n}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-TZYDFHR2.js";var e=n(d());o();var h=t.extend({render:function(){this.makeBox("widget-iframe"),this.rendered=!0;let i=this.getPluginClass();return i?(this.plugin=new i({widget:this}),this.$el.addClass(this.plugin.embed_type),this.started?this.drawPlugin():(this.contentCleared=!0,!RM.screenshot&&!this.drawInProgress&&this.widgetIsLoaded()),this.trigger("rendered"),this):(this.widgetIsLoaded(),this)},drawPlugin:function(){this.$el.empty(),this.contentCleared=!1,this.drawInProgress=!0,this.plugin.parse(this.code,function(i){if(this.$data=this.plugin.sanitize(i),RM.screenshot&&setTimeout(e.default.bind(function(){this.widgetIsLoaded()},this),5e3),this.plugin.draw(this.$data,this.$el,function(){let r=RM.screenshot?5e3:2e3;this.loadTimeout=setTimeout(function(){this.drawInProgress=!1,!this.destroyed&&(this.widgetIsLoaded(),this.$data.off&&this.$data.off("load"),this.started||this.clearContent())}.bind(this),r)}.bind(this)),!RM.screenshot){if(!e.default.isFunction(this.$data.one))return;this.$data.one("load",function(){this.drawInProgress=!1,!(this.destroyed||!this.started)&&(this.widgetIsLoaded(),clearTimeout(this.loadTimeout))}.bind(this))}}.bind(this))},widgetIsLoaded:function(){this.loaded||this.destroyed||(this.loaded=!0,this.trigger("loaded"))},isValid:function(){return this.code&&this.getPluginClass()},start:function(){return t.prototype.start.call(this),this.destroyed||!this.rendered?this:(this.contentCleared&&this.drawPlugin(),this)},stop:function(){if(t.prototype.stop.call(this),!this.plugin)return this;if(this.widgetIsLoaded(),!this.drawInProgress)return this.clearContent(),this},clearContent:function(){this.clear_content&&(this.$el.empty(),this.contentCleared=!0)},getPluginClass:function(){return s.findPlugin(this)},destroy:function(){return this.clearContent(),this.plugin&&this.plugin.remove(),t.prototype.destroy.apply(this,arguments)}}),l=h;export{l as default};
