import{a as v,b as rt}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-7JDZLQQ4.js";import{r as M,s as it}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-42TSFLLH.js";import{q as h,r as et}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-VRF7LILE.js";import{c as O,d as g,h as w,k as b,l as F}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-PR2DJXFR.js";import{b as z}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-GJYOXBH4.js";import{b as ot}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-W2OJRSJR.js";import{a as T,d as tt}from"https://st-p.rmcdn1.net/e0cde9ba/dist/c/c-TZYDFHR2.js";var C,U,L,K=T(()=>{"use strict";z();C={Desktop:[1024,672],"iPhone SE":[320,568],"iPhone 14 & 15 Pro Max":[430,932],"iPhone 14 & 15 Pro":[393,852],"iPhone 13 & 14":[390,844],"iPhone SE horizontal":[568,320],Tablet:[768,926]},U={default:"Desktop",phone_portrait:"iPhone SE",tablet_portrait:"Tablet"},L={Desktop:"default","iPhone SE":"phone_portrait","iPhone 14 & 15 Pro Max":"phone_portrait","iPhone 14 & 15 Pro":"phone_portrait","iPhone 13 & 14":"phone_portrait","iPhone SE horizontal":"tablet_portrait",Tablet:"tablet_portrait"}});function _t({viewportTopAndHeight:t,workspaceHeight:e}){let i=t.top<0?Math.abs(t.top):0,r=0;if(t.height<e)if(t.height-i+t.top<e)r=t.height-i;else{let c=t.top+t.height-e;r=t.height-i-c}else t.top<0?r=e:r=e-t.top;return r=r>0?r:0,r}function X(t,e,i=1,r){let c=e.x*i,s=e.y*i,o=e.w*i,l=e.h*i,n={left:c,top:s,width:o,height:l};return t&&(t!=="c"&&(t.indexOf("s")!==-1&&(n.top=r.height-s-l),t.indexOf("e")!==-1&&(n.left=r.width-c-o)),["n","c","s"].indexOf(t)!==-1&&(n.left=r.width/2-o/2+c),["w","c","e"].indexOf(t)!==-1&&(n.top=r.height/2-l/2+s),n.bottom=n.top+n.height,n.right=n.left+n.width),n}var R,A,nt,E,ct,st,D,B,k,j,S,q,lt,at,dt,I,V,pt,ht,ut,G,ft,W,kt,yt=T(()=>{"use strict";et();F();rt();K();R=(t,e,i)=>{let r=i&&L[i]===e?i:U[e],[c,s]=C[r];return h.cover({width:t,height:1/0},{width:c,height:s})},A=t=>g[t].height||g[t].min_height,nt=t=>g[t].width,E=(t,e)=>e==="phone_portrait"?t.phoneWidth||g.phone_portrait.width:e==="tablet_portrait"?g.tablet_portrait.width:t.desktopWidth||g.default.width,ct=(t,e)=>{if(!t)return A(e);let i=e!=="default"?`viewport_${e}`:void 0;return i&&t[i]?.height?t[i]?.height:t.height?t.height:A(e)},st=(t,e,i)=>({width:E(t,i),height:ct(e,i)}),D=(t,{windowSize:e,viewport:i="default",zoom:r=1,device:c})=>{let s=h.mapFromViewportToDocument(e,1,r,{scrollLeft:0,scrollTop:0}),o=B(t.width,{viewport:i,windowSize:e,device:c}),l=h.center(i==="phone_portrait"&&r>=1?o:t,s),n=i==="phone_portrait"?Math.max(h.center(o,e).top,0)/r:0;return{...t,left:Math.max(l.left,0),top:Math.max(l.top,n)}},B=(t,{windowSize:e,viewport:i,device:r})=>{let c=r||O[i];return i!=="default"?R(t,i,c):e},k=(t,{viewport:e="default",windowSize:i,device:r,zoom:c=1})=>{let s=B(t.width,{windowSize:i,device:r,viewport:e});if(e==="default")return{left:0,top:0,width:s.width,height:s.height};{let o=s.width*c,l=Math.min(c<1?t.height*c:s.height,i.height);return h.center({width:o,height:l},i)}},j=(t,e="default")=>{let i=h.center({width:nt(e),height:t.height},t);return h.relativeToAbsolute(i,t)},S=(t,e="default")=>{let i=e!=="default"?`viewport_${e}`:void 0,r=(c={},s)=>({w:c.w??s.w,h:c.h??s.h,x:c.x??s.x,y:c.y??s.y,fixed_position:c.sticked?void 0:c.fixed_position??s.fixed_position});return r(i?t[i]:t,t)},q=(t=[])=>{let e=t[0],{x:i,y:r,w:c,h:s}=e||{};return t.reduce((o,l)=>{let n=Math.min(o.x,l.x),a=Math.min(o.y,l.y);return o.w=Math.max(o.x+o.w,l.x+l.w)-n,o.h=Math.max(o.y+o.h,l.y+l.h)-a,o.x=n,o.y=a,o},{x:i,y:r,w:c,h:s})},lt=(t,e)=>{let i=["nw","n","ne"].includes(e),r=["w","c","e"].includes(e),c=["nw","w","sw"].includes(e),s=["n","c","s"].includes(e);return{left:c?t.left:s?t.left+t.width/2:t.left+t.width,top:i?t.top:r?t.top+t.height/2:t.top+t.height}},at=(t,e,i={})=>{let{viewport:r}=e,c=t.map(s=>({...S(s,r),...i}));return V(c,e)},dt=(t,e,i)=>{let{workspaceSize:r,viewport:c="default",windowSize:s,device:o,zoom:l=1}=i,n=k(r,{viewport:c,windowSize:s,device:o,zoom:l}),{width:a,height:d,left:p,top:u}=X(e,t,l,n);return h.relativeToAbsolute({width:a,height:d,left:p,top:u},n)},I=(t,e)=>{let{workspaceSize:i,viewport:r,windowSize:c,device:s,zoom:o=1,scroller:l}=e,n=D(i,{viewport:r,windowSize:c,device:s,zoom:o}),a={width:t.w,height:t.h,left:t.x,top:t.y},d=j(n,r),p=h.relativeToAbsolute(a,d);return h.mapFromDocumentToViewport(p,1,o,l)},V=(t,e)=>{if(t.reduce((r,c)=>r!==c.fixed_position?"mixed":r,t[0]?.fixed_position)){let r=t.map(n=>n.fixed_position?dt(n,n.fixed_position,e):I(n,e)),{left:c,top:s,width:o,height:l}=v.getBoundingBoxOfBoxes(r);return{left:c,top:s,width:o,height:l}}else{let r=t.length===1?t[0]:q(t);return I(r,e)}},pt=(t,e)=>{let i=t.map(l=>{let{left:n,top:a,width:d,height:p}=V([l],e),u=l.angle??0,f=l.fixed_position,_=Math.cos(u*Math.PI/180),y=Math.sin(u*Math.PI/180);return v.calcBoundingBox({left:n,top:a,width:d,height:p,cosAngle:_,sinAngle:y},f,!0)}),{left:r,top:c,width:s,height:o}=v.getBoundingBoxOfBoxes(i);return{left:r,top:c,width:s,height:o}},ht=(t,e,{workspaceSize:i,windowSize:r,viewport:c="default",zoom:s=1,scroller:o={scrollLeft:0,scrollTop:0},device:l})=>{if(e){let n=k(i,{viewport:c,windowSize:r,device:l,zoom:s}),a=["nw","n","ne"].includes(e),d=["w","c","e"].includes(e),p=["nw","w","sw"].includes(e),u=["n","c","s"].includes(e),f=["ne","e","se"].includes(e),_=["sw","s","se"].includes(e),y={left:p?t.left:u?t.left+t.width/2:t.left+t.width,top:a?t.top:d?t.top+t.height/2:t.top+t.height},m={left:p?n.left:u?n.left+n.width/2:n.left+n.width,top:a?n.top:d?n.top+n.height/2:n.top+n.height},x=h.absoluteToRelative(y,m),Z=f?x.left*-1:x.left,$=_?x.top*-1:x.top,{left:J,top:N,width:Q,height:H}=h.mapFromViewportToDocument({left:Z,top:$,width:t.width,height:t.height},1,s,{scrollLeft:0,scrollTop:0});return{fixed_position:e,x:J,y:N,w:Q,h:H}}else{let n=D(i,{viewport:c,windowSize:r,device:l,zoom:s}),a=h.mapFromViewportToDocument(t,1,s,o),d=j(n,c),{left:p,top:u,width:f,height:_}=h.absoluteToRelative(a,d);return{x:p,y:u,w:f,h:_}}},ut=(t,{workspaceSize:e,windowSize:i,viewport:r="default",zoom:c=1,device:s})=>{let o=S(t,r),l=o.fixed_position;if(l){let n=["nw","n","ne"].includes(l),a=["w","c","e"].includes(l),d=["nw","w","sw"].includes(l),p=["n","c","s"].includes(l),u=["ne","e","se"].includes(l),f=["sw","s","se"].includes(l),_=W.mapDeviceToWindow(e,{viewport:r,windowSize:i,device:s,zoom:c}),y=W.getFixedOrigin(_,l),m=h.invertPosition(y,i);return{position:"fixed",left:d||p?y.left+o.x+"px":"",top:n||a?y.top+o.y+"px":"",right:u?m.right+o.x+"px":"",bottom:f?m.bottom+o.y+"px":"","margin-left":p?-o.w/2+"px":"","margin-top":a?-o.h/2+"px":""}}else return{position:"absolute",left:t.x+"px",top:t.y+"px"}},G=({boxCoordinates:t,workspacePosition:e,windowSize:i,viewportType:r,scroller:c,zoom:s})=>{let o={x:t.x,y:t.y};if(!t.fixed_position)return{...o};if(r==="default"){let l=i.width/s,n=i.height/s,a=e.left,d=e.left+l/2-t.w/2,p=e.left+l-t.w,u=e.top,f=e.top+n/2-t.h/2,_=e.top+n-t.h;["nw","w","sw"].includes(t.fixed_position)?o.x=o.x+a:["n","c","s"].includes(t.fixed_position)?o.x=o.x+d:["ne","e","se"].includes(t.fixed_position)&&(o.x=p-o.x),["nw","n","ne"].includes(t.fixed_position)?o.y+=u:["e","c","w"].includes(t.fixed_position)?o.y+=f:["sw","s","se"].includes(t.fixed_position)&&(o.y=_-o.y)}else if(["phone_portrait","tablet_portrait"].includes(r)){let l=c.scrollLeft/s,n=c.scrollTop/s,a=i.width/s,d=i.height/s,p=l,u=e.left+a/2-t.w/2,f=e.left*2+a-t.w,_=n,y=e.top+d/2-t.h/2,m=e.top*2+d-t.h;["nw","w","sw"].includes(t.fixed_position)?o.x=o.x+p:["n","c","s"].includes(t.fixed_position)?o.x=o.x+u:["ne","e","se"].includes(t.fixed_position)&&(o.x=f-o.x-l),["nw","n","ne"].includes(t.fixed_position)?o.y=o.y+_:["e","c","w"].includes(t.fixed_position)?o.y+=y:["sw","s","se"].includes(t.fixed_position)&&(o.y=m-o.y-n)}return{...o}},ft=({boxCoordinates:t,workspaceBox:e,windowSize:i,viewportType:r,scroller:c,zoom:s})=>{let o={x:t.x,y:t.y},l=(e.width-g[r].width)/2;return o=G({workspacePosition:{left:e.left,top:e.top},boxCoordinates:t,scroller:c,windowSize:i,viewportType:r,zoom:s}),o.x=o.x-l,{...o}};W={fitToDevice:R,fixedToWorkspace:G,fixedToOrigin:ft,mapDeviceToWindow:k,getPageWidth:E,getWorkspaceSize:st,getDeviceSize:B,getCoordinateBox:S,getFixedOrigin:lt,getUnionCoordinates:q,getHeightOfVisiblePartOfWorkspace:_t,mapWorkspaceToDocument:D,mapWidgetToWindow:at,coordinatesToClientBox:V,coordinatesToClientBoundingBox:pt,mapWidgetToWorkspace:ht,mapWidgetToCss:ut,getFixedPositionBox:X},kt=W});function Ct(t){if(t){if(!t.viewport_phone_portrait&&!t.viewport_tablet_portrait)return!1}else return!1;let e=w(t.type,t.version,!1),i=P.default.difference(e,[...b.primitiveFields,...b.primitiveFieldsByWidgetType[t.type]||[]]);for(let r of b.viewport_list){let c=t[r];if(c)for(let s of i){let o=t[s],l=c[s];if(l!==void 0&&o!==void 0&&M.isEqual(l,o))return!0}}return!1}function Ut(t){if(!t)return!1;let e=t.type;if(e==="background")return!1;let i=e==="text"&&t.version!==3?2:t.version,r=["x","y","w","h"],c=e==="text"&&i===3?w(e,i).filter(l=>l!=="entityMap"):w(e,i),s=e==="text"&&i===2?Y["text.v2"]:Y[e]||[],o=P.default.intersection(s,c);for(let l of b.viewport_list){let n=t[l];if(!(!n||P.default.isEmpty(n))){for(let a of r){let d=n[a];if(d==null)return!0}for(let a of o)if(t[a]!==void 0&&n[a]===void 0)return!0}}return!1}var P,Y,gt=T(()=>{"use strict";F();P=tt(ot());z();it();Y={"text.v2":["text","column_count","column_gap","bg_color","bg_opacity","version"],text:["version","verticalAlign","textDirection","autosize","blocks","styles","entityMap","flags"],picture:["version","picture","cropW","cropH","cropX","cropY","originalW","originalH","ratio","scale"],shape:["tp","bg_color","bg_opacity","color","opacity","borders","radius","radius_rect_tl","radius_rect_tr","radius_rect_bl","radius_rect_br","radius_rect_independent","sides","weight","stroke"],video:["thumbnail_url","color","custom_controls","video_styles","autoplay","mute","loop"],shots:["basePath","numberOfImages","playbackType","scrollSpeed","scrollStartPoint","scrollDelay","hoverDirection","triggers","startPointOffset","pausable","byStepSpeed","byStepLoop","byStepSpringLoop","firstFrameLambdaUrl"],slideshow:["captions_h","images_h","current_mode","transition_type","play_method","theme_data","text_style"],button:["tp","form","text","transition","transitionTime","text_w","text_h","current-text_w","current-text_h","em_w","background-color","background-color-opacity","border-radius","border-width","border-color","border-color-opacity","font-family","font-style","font-weight","color","color-opacity","font-size","letter-spacing","hover-background-color","hover-background-color-opacity","hover-border-width","hover-border-color","hover-border-color-opacity","hover-color","hover-color-opacity","current-background-color","current-background-color-opacity","current-border-radius","current-border-width","current-border-color","current-border-color-opacity","current-font-family","current-font-style","current-font-weight","current-color","current-color-opacity","current-font-size","current-letter-spacing","icon_enabled","icon_h","icon_w","icon_pos","icon_noun_id","icon_rm_id","icon_noun_url","icon_color","icon_color_opacity","hover-icon_color","hover-icon_color_opacity","current-icon_color","current-icon_color_opacity","icon_rasterUrl","icon_raster2xUrl","hover-icon_rasterUrl","hover-icon_raster2xUrl","current-icon_rasterUrl","current-icon_raster2xUrl","baselineShift","current-baselineShift"],hotspot:["pinPosRelativeTip","pin_type","bg_color","bg_opacity","borders","color","opacity","tip_x","tip_y","tip_w","tip_h","tip_show_on","tip_background-color","tip_background-color-opacity","tip_border-radius","tip_box-shadow","tip_box-fullscreen","tipBorder","tipBorderColor","tipBorderOpacity","wids","flags"],form:["layout","style","button-caption","button_caption_after_submit","submit_mode","link_after_submit","fields","style-colored-fields","style-colored-button-default","style-colored-button-hover","style-outlined-fields","style-outlined-button-default","style-outlined-button-hover","style-underlined-fields","style-underlined-button-default","style-underlined-button-hover"],ecommercecart:["tp","form","text","hidden","text_w","text_h","em_w","background-color","background-color-opacity","border-radius","border-width","border-color","border-color-opacity","font-family","font-style","font-weight","color","color-opacity","font-size","letter-spacing","hover-background-color","hover-background-color-opacity","hover-border-width","hover-border-color","hover-border-color-opacity","hover-border-radius","hover-color","hover-color-opacity","hover-tansition-duration","hover-cursor","icon_enabled","icon_h","icon_w","icon_pos","icon_noun_id","icon_rm_id","icon_noun_url","icon_color","icon_color_opacity","hover-icon_color","hover-icon_color_opacity","icon_rasterUrl","icon_raster2xUrl","hover-icon_rasterUrl","hover-icon_raster2xUrl","bar-color","bar-color-opacity","bar-background-color","bar-background-color-opacity","bar-shadow","bar-auto-open","bar-font-family","bar-font-style","bar-font-weight","bar-font-size-factor","bar-button-baseline","bar-letter-spacing","bar-title","bar-empty\u0421artTitle","bar-price","bar-quantity","bar-checkout","stripe-allow_promotion_codes","stripe-allowed_countries","stripe-shipping_rates"],addtocart:["selected_product_id","layout","tp","btn_w","btn_h","text_w","text_h","hidden","select_btn_margin","attributes_margin","text","background-color","background-color-opacity","border-radius","border-width","border-color","border-color-opacity","font-family","font-style","font-weight","font-size","letter-spacing","text-align","color","color-opacity","hover-background-color","hover-background-color-opacity","hover-border-radius","hover-border-width","hover-border-color","hover-border-color-opacity","hover-color","hover-color-opacity","hover-tansition-duration","icon_color","icon_color_opacity","icon_enabled","icon_h","icon_w","icon_rm_id","icon_noun_id","icon_noun_url","icon_pos","icon_raster2xUrl","icon_rasterUrl","hover-icon_color","hover-icon_color_opacity","hover-icon_raster2xUrl","hover-icon_rasterUrl","attrs-background-color","attrs-background-color-opacity","attrs-border-radius","attrs-border-width","attrs-border-color","attrs-border-color-opacity","attrs-font-family","attrs-font-style","attrs-font-weight","attrs-font-size","attrs-letter-spacing","attrs-color","attrs-color-opacity","attrs-hover-background-color","attrs-hover-background-color-opacity","attrs-hover-border-radius","attrs-hover-border-width","attrs-hover-border-color","attrs-hover-border-color-opacity","attrs-hover-color","attrs-hover-color-opacity","attrs-icon-h","attrs-icon-w","attrs-text_w","attrs-text_h"],gmaps:["current_type","center_lat","center_lng","map_zoom","show_controls","scrollwheel"],audio:["current_type","comments","artwork","socials","color","version"],iframe:["use_iframe"],background:["slideshow"],twitter:["current_type","type_timeline","type_embed","type_tweet","type_follow","type_hashtag"],facebook:["current_type","type_like_button","type_page","type_comments"],rmheader:["activeLink","full_width_initial_w","full_width_initial_x","full_width_margin","is_full_width","fixed_position","is_above","is_global"],rmfooter:["full_width_initial_w","full_width_initial_x","full_width_margin","is_above","is_full_width","modelType","sticked","sticked_margin"],lottie:[]}});export{U as a,L as b,K as c,ft as d,kt as e,yt as f,Ct as g,Ut as h,gt as i};
